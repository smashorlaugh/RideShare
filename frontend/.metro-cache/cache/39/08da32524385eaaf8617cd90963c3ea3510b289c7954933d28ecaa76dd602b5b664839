{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":35},"end":{"line":2,"column":69,"index":104}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":106},"end":{"line":3,"column":26,"index":132}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":134},"end":{"line":4,"column":39,"index":173}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoConstants = require(_dependencyMap[3], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  const API_URL = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || process.env.EXPO_PUBLIC_BACKEND_URL || '';\n  const useAuthStore = (0, _zustand.create)((set, get) => ({\n    user: null,\n    token: null,\n    isLoading: true,\n    isAuthenticated: false,\n    setUser: user => set({\n      user,\n      isAuthenticated: !!user\n    }),\n    setToken: token => set({\n      token\n    }),\n    setLoading: isLoading => set({\n      isLoading\n    }),\n    login: async (token, user) => {\n      await AsyncStorage.default.setItem('auth_token', token);\n      await AsyncStorage.default.setItem('user', JSON.stringify(user));\n      set({\n        token,\n        user,\n        isAuthenticated: true,\n        isLoading: false\n      });\n    },\n    logout: async () => {\n      const {\n        token\n      } = get();\n      try {\n        if (token) {\n          await axios.default.post(`${API_URL}/api/auth/logout`, {}, {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          });\n        }\n      } catch (e) {\n        console.log('Logout API error:', e);\n      }\n      await AsyncStorage.default.removeItem('auth_token');\n      await AsyncStorage.default.removeItem('user');\n      set({\n        token: null,\n        user: null,\n        isAuthenticated: false\n      });\n    },\n    loadAuth: async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('auth_token');\n        const userStr = await AsyncStorage.default.getItem('user');\n        if (token && userStr) {\n          const user = JSON.parse(userStr);\n          // Verify token is still valid\n          try {\n            const response = await axios.default.get(`${API_URL}/api/users/profile`, {\n              headers: {\n                Authorization: `Bearer ${token}`\n              }\n            });\n            set({\n              token,\n              user: response.data,\n              isAuthenticated: true,\n              isLoading: false\n            });\n          } catch (e) {\n            // Token invalid, clear storage\n            await AsyncStorage.default.removeItem('auth_token');\n            await AsyncStorage.default.removeItem('user');\n            set({\n              token: null,\n              user: null,\n              isAuthenticated: false,\n              isLoading: false\n            });\n          }\n        } else {\n          set({\n            isLoading: false\n          });\n        }\n      } catch (e) {\n        set({\n          isLoading: false\n        });\n      }\n    },\n    updateUser: updates => {\n      const {\n        user\n      } = get();\n      if (user) {\n        const updatedUser = {\n          ...user,\n          ...updates\n        };\n        set({\n          user: updatedUser\n        });\n        AsyncStorage.default.setItem('user', JSON.stringify(updatedUser));\n      }\n    }\n  }));\n});","lineCount":131,"map":[[12,2,33,0,"Object"],[12,8,33,0],[12,9,33,0,"defineProperty"],[12,23,33,0],[12,24,33,0,"exports"],[12,31,33,0],[13,4,33,0,"enumerable"],[13,14,33,0],[14,4,33,0,"get"],[14,7,33,0],[14,18,33,0,"get"],[14,19,33,0],[15,6,33,0],[15,13,33,0,"useAuthStore"],[15,25,33,0],[16,4,33,0],[17,2,33,0],[18,2,1,0],[18,6,1,0,"_zustand"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,3,0],[21,6,3,0,"_axios"],[21,12,3,0],[21,15,3,0,"require"],[21,22,3,0],[21,23,3,0,"_dependencyMap"],[21,37,3,0],[22,2,3,0],[22,6,3,0,"axios"],[22,11,3,0],[22,14,3,0,"_interopDefault"],[22,29,3,0],[22,30,3,0,"_axios"],[22,36,3,0],[23,2,4,0],[23,6,4,0,"_expoConstants"],[23,20,4,0],[23,23,4,0,"require"],[23,30,4,0],[23,31,4,0,"_dependencyMap"],[23,45,4,0],[24,2,4,0],[24,6,4,0,"Constants"],[24,15,4,0],[24,18,4,0,"_interopDefault"],[24,33,4,0],[24,34,4,0,"_expoConstants"],[24,48,4,0],[25,2,6,0],[25,8,6,6,"API_URL"],[25,15,6,13],[25,18,6,16,"Constants"],[25,27,6,25],[25,28,6,25,"default"],[25,35,6,25],[25,36,6,26,"expoConfig"],[25,46,6,36],[25,48,6,38,"extra"],[25,53,6,43],[25,55,6,45,"EXPO_PUBLIC_BACKEND_URL"],[25,78,6,68],[25,82,6,72,"process"],[25,89,6,79],[25,90,6,80,"env"],[25,93,6,83],[25,94,6,84,"EXPO_PUBLIC_BACKEND_URL"],[25,117,6,107],[25,121,6,111],[25,123,6,113],[26,2,33,7],[26,8,33,13,"useAuthStore"],[26,20,33,25],[26,23,33,28],[26,27,33,28,"create"],[26,35,33,34],[26,36,33,34,"create"],[26,42,33,34],[26,44,33,46],[26,45,33,47,"set"],[26,48,33,50],[26,50,33,52,"get"],[26,53,33,55],[26,59,33,61],[27,4,34,2,"user"],[27,8,34,6],[27,10,34,8],[27,14,34,12],[28,4,35,2,"token"],[28,9,35,7],[28,11,35,9],[28,15,35,13],[29,4,36,2,"isLoading"],[29,13,36,11],[29,15,36,13],[29,19,36,17],[30,4,37,2,"isAuthenticated"],[30,19,37,17],[30,21,37,19],[30,26,37,24],[31,4,39,2,"setUser"],[31,11,39,9],[31,13,39,12,"user"],[31,17,39,16],[31,21,39,21,"set"],[31,24,39,24],[31,25,39,25],[32,6,39,27,"user"],[32,10,39,31],[33,6,39,33,"isAuthenticated"],[33,21,39,48],[33,23,39,50],[33,24,39,51],[33,25,39,52,"user"],[34,4,39,57],[34,5,39,58],[34,6,39,59],[35,4,40,2,"setToken"],[35,12,40,10],[35,14,40,13,"token"],[35,19,40,18],[35,23,40,23,"set"],[35,26,40,26],[35,27,40,27],[36,6,40,29,"token"],[37,4,40,35],[37,5,40,36],[37,6,40,37],[38,4,41,2,"setLoading"],[38,14,41,12],[38,16,41,15,"isLoading"],[38,25,41,24],[38,29,41,29,"set"],[38,32,41,32],[38,33,41,33],[39,6,41,35,"isLoading"],[40,4,41,45],[40,5,41,46],[40,6,41,47],[41,4,43,2,"login"],[41,9,43,7],[41,11,43,9],[41,17,43,9,"login"],[41,18,43,16,"token"],[41,23,43,21],[41,25,43,23,"user"],[41,29,43,27],[41,34,43,32],[42,6,44,4],[42,12,44,10,"AsyncStorage"],[42,24,44,22],[42,25,44,22,"default"],[42,32,44,22],[42,33,44,23,"setItem"],[42,40,44,30],[42,41,44,31],[42,53,44,43],[42,55,44,45,"token"],[42,60,44,50],[42,61,44,51],[43,6,45,4],[43,12,45,10,"AsyncStorage"],[43,24,45,22],[43,25,45,22,"default"],[43,32,45,22],[43,33,45,23,"setItem"],[43,40,45,30],[43,41,45,31],[43,47,45,37],[43,49,45,39,"JSON"],[43,53,45,43],[43,54,45,44,"stringify"],[43,63,45,53],[43,64,45,54,"user"],[43,68,45,58],[43,69,45,59],[43,70,45,60],[44,6,46,4,"set"],[44,9,46,7],[44,10,46,8],[45,8,46,10,"token"],[45,13,46,15],[46,8,46,17,"user"],[46,12,46,21],[47,8,46,23,"isAuthenticated"],[47,23,46,38],[47,25,46,40],[47,29,46,44],[48,8,46,46,"isLoading"],[48,17,46,55],[48,19,46,57],[49,6,46,63],[49,7,46,64],[49,8,46,65],[50,4,47,2],[50,5,47,3],[51,4,49,2,"logout"],[51,10,49,8],[51,12,49,10],[51,18,49,10,"logout"],[51,19,49,10],[51,24,49,22],[52,6,50,4],[52,12,50,10],[53,8,50,12,"token"],[54,6,50,18],[54,7,50,19],[54,10,50,22,"get"],[54,13,50,25],[54,14,50,26],[54,15,50,27],[55,6,51,4],[55,10,51,8],[56,8,52,6],[56,12,52,10,"token"],[56,17,52,15],[56,19,52,17],[57,10,53,8],[57,16,53,14,"axios"],[57,21,53,19],[57,22,53,19,"default"],[57,29,53,19],[57,30,53,20,"post"],[57,34,53,24],[57,35,53,25],[57,38,53,28,"API_URL"],[57,45,53,35],[57,63,53,53],[57,65,53,55],[57,66,53,56],[57,67,53,57],[57,69,53,59],[58,12,54,10,"headers"],[58,19,54,17],[58,21,54,19],[59,14,54,21,"Authorization"],[59,27,54,34],[59,29,54,36],[59,39,54,46,"token"],[59,44,54,51],[60,12,54,54],[61,10,55,8],[61,11,55,9],[61,12,55,10],[62,8,56,6],[63,6,57,4],[63,7,57,5],[63,8,57,6],[63,15,57,13,"e"],[63,16,57,14],[63,18,57,16],[64,8,58,6,"console"],[64,15,58,13],[64,16,58,14,"log"],[64,19,58,17],[64,20,58,18],[64,39,58,37],[64,41,58,39,"e"],[64,42,58,40],[64,43,58,41],[65,6,59,4],[66,6,60,4],[66,12,60,10,"AsyncStorage"],[66,24,60,22],[66,25,60,22,"default"],[66,32,60,22],[66,33,60,23,"removeItem"],[66,43,60,33],[66,44,60,34],[66,56,60,46],[66,57,60,47],[67,6,61,4],[67,12,61,10,"AsyncStorage"],[67,24,61,22],[67,25,61,22,"default"],[67,32,61,22],[67,33,61,23,"removeItem"],[67,43,61,33],[67,44,61,34],[67,50,61,40],[67,51,61,41],[68,6,62,4,"set"],[68,9,62,7],[68,10,62,8],[69,8,62,10,"token"],[69,13,62,15],[69,15,62,17],[69,19,62,21],[70,8,62,23,"user"],[70,12,62,27],[70,14,62,29],[70,18,62,33],[71,8,62,35,"isAuthenticated"],[71,23,62,50],[71,25,62,52],[72,6,62,58],[72,7,62,59],[72,8,62,60],[73,4,63,2],[73,5,63,3],[74,4,65,2,"loadAuth"],[74,12,65,10],[74,14,65,12],[74,20,65,12,"loadAuth"],[74,21,65,12],[74,26,65,24],[75,6,66,4],[75,10,66,8],[76,8,67,6],[76,14,67,12,"token"],[76,19,67,17],[76,22,67,20],[76,28,67,26,"AsyncStorage"],[76,40,67,38],[76,41,67,38,"default"],[76,48,67,38],[76,49,67,39,"getItem"],[76,56,67,46],[76,57,67,47],[76,69,67,59],[76,70,67,60],[77,8,68,6],[77,14,68,12,"userStr"],[77,21,68,19],[77,24,68,22],[77,30,68,28,"AsyncStorage"],[77,42,68,40],[77,43,68,40,"default"],[77,50,68,40],[77,51,68,41,"getItem"],[77,58,68,48],[77,59,68,49],[77,65,68,55],[77,66,68,56],[78,8,70,6],[78,12,70,10,"token"],[78,17,70,15],[78,21,70,19,"userStr"],[78,28,70,26],[78,30,70,28],[79,10,71,8],[79,16,71,14,"user"],[79,20,71,18],[79,23,71,21,"JSON"],[79,27,71,25],[79,28,71,26,"parse"],[79,33,71,31],[79,34,71,32,"userStr"],[79,41,71,39],[79,42,71,40],[80,10,72,8],[81,10,73,8],[81,14,73,12],[82,12,74,10],[82,18,74,16,"response"],[82,26,74,24],[82,29,74,27],[82,35,74,33,"axios"],[82,40,74,38],[82,41,74,38,"default"],[82,48,74,38],[82,49,74,39,"get"],[82,52,74,42],[82,53,74,43],[82,56,74,46,"API_URL"],[82,63,74,53],[82,83,74,73],[82,85,74,75],[83,14,75,12,"headers"],[83,21,75,19],[83,23,75,21],[84,16,75,23,"Authorization"],[84,29,75,36],[84,31,75,38],[84,41,75,48,"token"],[84,46,75,53],[85,14,75,56],[86,12,76,10],[86,13,76,11],[86,14,76,12],[87,12,77,10,"set"],[87,15,77,13],[87,16,77,14],[88,14,77,16,"token"],[88,19,77,21],[89,14,77,23,"user"],[89,18,77,27],[89,20,77,29,"response"],[89,28,77,37],[89,29,77,38,"data"],[89,33,77,42],[90,14,77,44,"isAuthenticated"],[90,29,77,59],[90,31,77,61],[90,35,77,65],[91,14,77,67,"isLoading"],[91,23,77,76],[91,25,77,78],[92,12,77,84],[92,13,77,85],[92,14,77,86],[93,10,78,8],[93,11,78,9],[93,12,78,10],[93,19,78,17,"e"],[93,20,78,18],[93,22,78,20],[94,12,79,10],[95,12,80,10],[95,18,80,16,"AsyncStorage"],[95,30,80,28],[95,31,80,28,"default"],[95,38,80,28],[95,39,80,29,"removeItem"],[95,49,80,39],[95,50,80,40],[95,62,80,52],[95,63,80,53],[96,12,81,10],[96,18,81,16,"AsyncStorage"],[96,30,81,28],[96,31,81,28,"default"],[96,38,81,28],[96,39,81,29,"removeItem"],[96,49,81,39],[96,50,81,40],[96,56,81,46],[96,57,81,47],[97,12,82,10,"set"],[97,15,82,13],[97,16,82,14],[98,14,82,16,"token"],[98,19,82,21],[98,21,82,23],[98,25,82,27],[99,14,82,29,"user"],[99,18,82,33],[99,20,82,35],[99,24,82,39],[100,14,82,41,"isAuthenticated"],[100,29,82,56],[100,31,82,58],[100,36,82,63],[101,14,82,65,"isLoading"],[101,23,82,74],[101,25,82,76],[102,12,82,82],[102,13,82,83],[102,14,82,84],[103,10,83,8],[104,8,84,6],[104,9,84,7],[104,15,84,13],[105,10,85,8,"set"],[105,13,85,11],[105,14,85,12],[106,12,85,14,"isLoading"],[106,21,85,23],[106,23,85,25],[107,10,85,31],[107,11,85,32],[107,12,85,33],[108,8,86,6],[109,6,87,4],[109,7,87,5],[109,8,87,6],[109,15,87,13,"e"],[109,16,87,14],[109,18,87,16],[110,8,88,6,"set"],[110,11,88,9],[110,12,88,10],[111,10,88,12,"isLoading"],[111,19,88,21],[111,21,88,23],[112,8,88,29],[112,9,88,30],[112,10,88,31],[113,6,89,4],[114,4,90,2],[114,5,90,3],[115,4,92,2,"updateUser"],[115,14,92,12],[115,16,92,15,"updates"],[115,23,92,22],[115,27,92,27],[116,6,93,4],[116,12,93,10],[117,8,93,12,"user"],[118,6,93,17],[118,7,93,18],[118,10,93,21,"get"],[118,13,93,24],[118,14,93,25],[118,15,93,26],[119,6,94,4],[119,10,94,8,"user"],[119,14,94,12],[119,16,94,14],[120,8,95,6],[120,14,95,12,"updatedUser"],[120,25,95,23],[120,28,95,26],[121,10,95,28],[121,13,95,31,"user"],[121,17,95,35],[122,10,95,37],[122,13,95,40,"updates"],[123,8,95,48],[123,9,95,49],[124,8,96,6,"set"],[124,11,96,9],[124,12,96,10],[125,10,96,12,"user"],[125,14,96,16],[125,16,96,18,"updatedUser"],[126,8,96,30],[126,9,96,31],[126,10,96,32],[127,8,97,6,"AsyncStorage"],[127,20,97,18],[127,21,97,18,"default"],[127,28,97,18],[127,29,97,19,"setItem"],[127,36,97,26],[127,37,97,27],[127,43,97,33],[127,45,97,35,"JSON"],[127,49,97,39],[127,50,97,40,"stringify"],[127,59,97,49],[127,60,97,50,"updatedUser"],[127,71,97,61],[127,72,97,62],[127,73,97,63],[128,6,98,4],[129,4,99,2],[130,2,100,0],[130,3,100,1],[130,4,100,2],[130,5,100,3],[131,0,100,4],[131,3]],"functionMap":{"names":["<global>","create$argument_0","setUser","setToken","setLoading","login","logout","loadAuth","updateUser"],"mappings":"AAA;8CCgC;WCM,gDD;YEC,yBF;cGC,iCH;SIE;GJI;UKE;GLc;YME;GNyB;cOE;GPO;EDC"},"hasCjsExports":false},"type":"js/module"}]}